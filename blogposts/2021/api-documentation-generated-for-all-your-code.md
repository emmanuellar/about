---
title: "Sneak peek: API documentation generated for all your code"
description: "Here's a sneak peek of our latest experiment to bring API documentation to all your code, generated by LSIF code intelligence data."
author: Stephen Gutekanst
authorUrl: https://slimsag.com
publishDate: 2021-07-21T10:00-07:00
tags: [blog, code, search, software, engineering, testing]
slug: api-documentation-for-all-your-code
heroImage: https://sourcegraphstatic.com/blog/api-docs/sourcegraph-api-docs.png
socialImage: https://sourcegraphstatic.com/blog/api-docs/sourcegraph-api-docs.png
published: true
---

At Sourcegraph, we have a small team working hard on a new experimental feature: API docs.

In order to build awesome code search we've built a global graph of code that has a deep, semantic understanding of the underlying code—which we represent as [LSIF code intelligence data](https://lsif.dev). Using Sourcegraph's LSIF code intelligence data, we can analyze your code and generate API documentation for all of it. We've started with Go code and intend to expand to more languages as we develop this feature. 

<figure>
  <img src="https://sourcegraphstatic.com/blog/api-docs/api-docs.png" alt="Sourcegraph's new API docs feature">
  <figcaption>API docs generated for the Go encoding/json package</figcaption>
</figure>

## Vision

If you develop in Go, Rust, or Zig you’re probably familiar with some sites that try to do this like [pkg.go.dev](https://pkg.go.dev), [docs.rs]([https://docs.rs](https://docs.rs)), etc. The benefit of Sourcegraph's API docs over these will in the future be:

* Surface usage examples from open source code.
* Providing a single tool that works across all code, using LSIF data to provide an experience tailored towards your languages of choice.
* Giving an amazing navigation and search experience.

## Try it (experimental)

Today, it's still in its very early stages—and only a few months into development. But you can try it out on Go code today:

- [Explore encoding/json code](https://sourcegraph.com/github.com/golang/go/-/docs/encoding/json)
- [Explore Go net/http code](https://sourcegraph.com/github.com/golang/go/-/docs/net/http)
- [Explore Sourcegraph backend code](https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/docs/cmd/frontend/backend)

Want to try it out on your own Go repositories? Tweet [@sourcegraph](https://twitter.com/sourcegraph) with your GitHub repository name and we'll set it up for you, or [follow our documentation]([https://docs.sourcegraph.com/code_intelligence/apidocs](https://docs.sourcegraph.com/code_intelligence/apidocs)).

## Improving rapidly

Here's a little highlight of the changes we've made recently.

### On by default, for everyone

The most important announcement here is that API docs is now an on-by-default experiment for everyone! You can begin trying it out on Sourcegraph.com as well as your own Sourcegraph instance.

<figure>
  <img height="200px" src="https://sourcegraphstatic.com/blog/api-docs/api-docs-button.png" alt="The new API Docs button on repository pages">
  <figcaption>Use the API docs button on any repository page to access API docs.</figcaption>
</figure>

&nbsp;

<figure>
  <img height="80px" src="https://sourcegraphstatic.com/blog/api-docs/welcome-prompt.png" alt="The new welcome prompt describing how to use API docs">
  <figcaption>Once you click it, you'll be greeted with information about how to get started in a brand new welcome prompt we’ve added</figcaption>
</figure>

### Understands the types of symbols, and uses iconography to communicate

Due to API docs being built on code intelligence data, it understands exactly what symbols are and has detailed information about them. Whether symbols are deprecated, whether they're a function, variable, interface, etc. and the UI now communicates this information using icons:

<figure>
  <img src="https://sourcegraphstatic.com/blog/api-docs/symbols.gif" alt="A structured tree of symbols with type information to navigate a Go package">
  <figcaption>A structured tree of symbols with type information to navigate a Go package's documentation</figcaption>
</figure>

### Better sub-page navigation

Within a Go package, there are many sub-packages. We've improved the way we render documentation subpages so you can skip over useless directories and get right to the content:

<figure>
  <img src="https://sourcegraphstatic.com/blog/api-docs/subpage-navigation.gif" alt="A sub-page navigation menu that now expands/collapses">
  <figcaption>A sub-page navigation menu that now expands/collapses - but we're still hard at work improving navigation in API docs!</figcaption>
</figure>

### A deep understanding of code

We're paying attention to the small details, and really tailoring API docs to each language. We want an experience that makes sense for Go first, because here at Sourcegraph we use primarily Go and TypeScript and want to ensure we build an experience Go developers love. Then we'll expand to more languages and build an experience that makes sense in the context of other languages—a tailored experience for each.

One way we've enabled this is by allowing LSIF language indexers to emit data in the way they see fit. Sourcegraph merely renders it, indexes it, and adds a nice navigation experience. For example:

<figure>
  <img src="https://sourcegraphstatic.com/blog/api-docs/url-hash-displays.gif" alt="Browser URL bar showing a URL and hash designed specifically for the Go language">
  <figcaption>The Go LSIF indexer chooses to display URL hashes in a way that makes sense specifically for Go, with a `Receiver.Method` format</figcaption>
</figure>

&nbsp;

<figure>
  <img src="https://sourcegraphstatic.com/blog/api-docs/symbol-types.gif" alt="Hovering over symbols and showing Sourcegraph's deep semantic understanding of type information">
  <figcaption>Hovering over symbols shows Sourcegraph's deep semantic understanding of type information, which you'll soon be able to search and filter based on.</figcaption>
</figure>

### Feedback widget

We know there will be a ton of feedback as things are very early in development, and so we've made it as easy as possible to give feedback from any API docs page:

<figure>
  <img src="https://sourcegraphstatic.com/blog/api-docs/feedback-widget.png" alt="The new feedback widget with various emojis">
  <figcaption>Use the feedback widget on API docs pages, or directly email feedback to us!</figcaption>
</figure>

You can directly email feedback to the lead engineer [stephen@sourcegraph.com](mailto:stephen@sourcegraph.com) (me) or the entire team via Twitter [@sourcegraph](https://twitter.com/sourcegraph). We really want to hear what you think as we continue to rapidly develop this experimental feature!

#### About the author

[Stephen Gutekanst](https://slimsag.com) is one of Sourcegraph's earliest engineers, and has authored many parts of Sourcegraph including the `src` CLI, monitoring architecture, managed instances, and editor extensions to name a few. Stephen has worked with most of Sourcegraph's largest customers, and enjoys solving the most critical and technically challenging issues users face in our effort to bring world-class developer tools to everyone. Outside of Sourcegraph, Stephen researches search engine technology and video game development.

Special thanks to [Rebecca Dodd](https://about.sourcegraph.com/handbook/company/team#rebecca-dodd-she-her) and [Erica Lindberg](https://about.sourcegraph.com/handbook/company/team#erica-lindberg-she-her) for their help with the content of this article, and [Jean du Plessis](https://about.sourcegraph.com/handbook/company/team#jean-du-plessis-he-him) (Director of Engineering: Developer Insights) and the rest of the Sourcegraph team for their assistance and feedback in developing API docs.
